# GCC基础


---
# 什么是GCC
1.GCC原名为GUN C语言编译器  
2.GCC是由GNU开发的编程语言编译器  
3.GCC不仅支持C的多种方言，也可以区别不同C的标准，可以使用命令行选项控制编译器在翻译源码时应该遵守那个C标准。例如，当使用命令行‘-std=99’启动GCC时，编译器支持C99标准  
4.安装命令 sudo apt install gcc g++   
5.查看版本 gcc/g++ -v/--version  

# GCC工作流程
源代码->预处理后源代码->汇编代码->目标代码->连接并输出  
.h-----   .i -----------.s            
.cpp  
.c  

# 指令
|gcc编译选项|说明|
|-----|-----|
|-E|预处理制定的源文件，不进行编译|
|-s|编译制定的源文件，不进行汇编|
|-c|编译，汇编制定的源文件，但是不进行连接|
|-o [file1][file2] / [file2] -o [file1]|将文件file2编译成可执行文件file1|
|-I directory|制定include包含文件的搜索目录|
|-g|在编译的时候，生成调试信息，该程序可以被调试器调试|
|-D|在程序编译的时候，制定一个宏|
|-w|不生成任何警告|
|-Wal|生成警告信息|
|-On|n的取值范围:0-3 编译器的优化选项的4个级别|
|-l|在程序编译的时候，使用指定的库|
|-L|指定编译的时候，搜索的库的路径|
|-fPIC/fpic|生成与位置无关的代码|
|-shared|生成共享目标文件，通常用在建立共享库时|
|-std|制定C方言:如:-std=c99|


# gcc和g++
## gcc 和 g++都是GNU的一个编译器  

误区1：gcc只能编译c代码，g++只能编译C++代码。两者都可以  
1.1后缀为.c的，gcc会将它当成c程序，而g++当做c++程序  
1.2后缀为.cpp的 两则都会认为是c++程序，c++的语法规则更加严谨一些  
1.3编译阶段，g++会调用gcc，对c++代码，两者是等价的，但是因为gcc命令 不能自动和C++程序使用的库连接，所以通常用g++完成连接

## 误区2：gcc不会定义__cplusplus宏，而g++会  
2.1 实际上，这个宏只是标志编译器将会把代码按照c还是c++语法解释

## 误区3：编译只能用gcc，连接只能用g++  
3.1：严格来说，这句话不算错误，但是它会混淆了概念，应该这样说：编译可以用gcc/g++，而连接可以用g++或者gcc -lstdc++  
3.2：gcc命令不能自动和C++程序使用的库连接在一起，所以通常会使用g++来完成连接。但是在编译阶段，g++会自动调用gcc，二者等价
